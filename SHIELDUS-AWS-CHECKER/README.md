# SHIELDUS-AWS-CHECKER

SK쉴더스 클라우드 보안 가이드를 기반으로 AWS 환경의 보안 설정을 점검하는 자동화 도구입니다.

---

## 📁 프로젝트 구조

```
SHIELDUS-AWS-CHECKER/
├── main.py                     # 전체 점검을 실행하는 메인 파일
├── aws_client.py              # boto3 기반 AWS 클라이언트 초기화 관리
├── account_management/        # 1. 계정 보안 점검 항목 (13개)
├── authorization/             # 2. IAM 권한 관리 점검 항목 (3개)
├── virtual_resources/         # 3. 가상 리소스 점검 항목 (10개)
├── operation/                 # 4. 운영 관리 점검 항목 (15개)
└── logs/                      # 점검 결과 로그 저장 폴더 (자동 생성)
```

---

## 🔍 점검 항목 개요

### 1. 계정 보안 관리 (account_management)
- IAM 사용자, 접근 키, MFA 설정, 패스워드 정책 등 총 13개 항목
- 일부 항목은 `kubectl` 기반 수동 점검 필요 (예: 익명 사용자 바인딩)

### 2. IAM 권한 관리 (authorization)
- EC2, VPC, 기타 서비스별 IAM 권한 설정 점검

### 3. 가상 리소스 설정 (virtual_resources)
- 보안 그룹, NACL, S3 공개 설정, RDS Subnet Zone 등 인프라 보안 항목

### 4. 운영 보안 관리 (operation)
- 암호화 설정, CloudTrail/CloudWatch/VPC 로그 설정, 백업 정책 등

---

## ⚙️ 실행 방법

```bash
# AWS 자격 증명 환경변수 설정 또는 ~/.aws/credentials 구성
python main.py
```

실행 결과는 `logs/aws_checker_log_날짜.txt` 파일에 저장됩니다.

---
⚠️ [WARNING] 메시지 발생 기준

🔸 1. 권장 기준에 미달
설정은 되어 있지만 보안 가이드라인을 완전히 만족하지 않는 경우

예시: 관리자 권한을 가진 사용자가 3명 이상
→ ⚠ WARNING: 관리자 권한을 가진 사용자가 3명 이상입니다.

🔸 2. 설정 누락 (즉시 장애는 아님)
시스템은 동작하지만, 보안 또는 감사 관점에서 미흡한 상태

예시: IAM 사용자에 태그가 없음
→ 관리/감사 시 사용자 식별이 어려움

🔸 3. 베스트 프랙티스 미적용
권장되는 보안 모범 사례(예: MFA, 태깅, 키 순환 등)를 따르지 않음

예시: 일부 사용자만 MFA 활성화됨

🔸 4. 너무 느슨한 정책 설정
보안 정책은 존재하지만 모든 트래픽을 허용하는 등 과도하게 허용적인 경우

예시: 보안 그룹에서 0.0.0.0/0 모든 IP 허용
→ ⚠ WARNING: 보안 그룹이 전체 트래픽을 허용하고 있습니다.



## 🛠 수동 점검이 필요한 항목

아래 항목은 Kubernetes API 또는 수동 접근이 필요하여 자동 점검되지 않습니다.

- 계정 관리>	1.11_EKS 사용자 권한 관리
- 계정 관리>	1.12_EKS 서비스 어카운트 권한 관리
- 계정 관리>	1.13_EKS 익명 사용자 접근 통제
- 가상 리소스 관리>	3.9_EKS Pod 보안 정책 설정
- 운영 관리>	4.4_통신구간 암호화 설정
- 운영 관리>	4.8_인스턴스 접근 로깅 설정

---

## 🙋 문의

추가 점검 항목 추가, 조직 맞춤화 필요 시 리포트를 기반으로 수정 가능합니다.
